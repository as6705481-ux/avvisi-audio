{% extends "layout.html" %}
{% block content %}
<style>
  form { max-width: 560px; margin:0 auto; background:#fff5e6; border:1px solid #ffc107; padding:20px; border-radius:8px; }
  h1 { text-align:center; color:#ff8c00; font-family:'Poppins',sans-serif; margin-bottom:20px; }
  .btn-orange { background:#ff8c00; border-color:#ff8c00; color:#fff; }
  .btn-orange:hover { background:#e67e00; border-color:#e67e00; color:#fff; }
</style>

<div class="container mt-4">
  <h1>Editar Contacto</h1>
  <form method="POST" class="mt-3">
    <div class="mb-3">
      <label class="form-label">Cliente</label>
      <select name="client_id" class="form-select" required>
        {% for c in clients %}
          <option value="{{ c.id }}" {{ 'selected' if c.id==contact.client_id else '' }}>{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" name="name" class="form-control" value="{{ contact.name }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" name="email" class="form-control" value="{{ contact.email or '' }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Tel√©fono</label>
      <input type="text" name="phone" class="form-control" value="{{ contact.phone or '' }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Rol</label>
      <input type="text" name="role" class="form-control" value="{{ contact.role or '' }}">
    </div>

    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="is_primary" name="is_primary" value="1"
             {{ 'checked' if contact.is_primary else '' }}>
      <label class="form-check-label" for="is_primary">Contacto principal</label>
    </div>

    <div class="d-flex justify-content-between">
      <a href="{{ url_for('contacts') }}" class="btn btn-secondary">Cancelar</a>
      <button class="btn btn-orange">Guardar cambios</button>
    </div>
  </form>
</div>
{% endblock %}
