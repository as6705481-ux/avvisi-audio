{% extends "layout.html" %}
{% block content %}
<style>
  form { max-width: 520px; margin: 0 auto; background:#fff5e6; border:1px solid #ffc107; padding:20px; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,.1); }
  h1 { text-align:center; color:#ff8c00; font-family:'Poppins',sans-serif; margin-bottom:20px; }
  .btn-success { background:#ff8c00; border-color:#ff8c00; }
  .btn-success:hover { background:#e67e00; border-color:#e67e00; }
</style>

<div class="container mt-5">
  <h1>Editar Usuario</h1>
  {% set u = user %}
  <form method="POST" class="mt-3">
    <div class="mb-3"><label class="form-label">Nombre completo</label>
      <input name="full_name" class="form-control" value="{{ u.full_name or '' }}"></div>
    <div class="mb-3"><label class="form-label">Correo</label>
      <input name="email" type="email" class="form-control" value="{{ u.email or '' }}"></div>
    <div class="mb-3"><label class="form-label">Teléfono</label>
      <input name="phone" class="form-control" value="{{ u.phone or '' }}"></div>
    <div class="mb-3"><label class="form-label">Rol</label>
      <select name="role" class="form-select" required>
        {% for r in roles %}
          <option value="{{ r }}" {{ 'selected' if u.role == r else '' }}>{{ r|capitalize }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3"><label class="form-label">Nueva contraseña (opcional)</label>
      <input name="new_password" type="password" class="form-control" placeholder="Deja en blanco para no cambiar"></div>

    <div class="form-check my-3">
      <input class="form-check-input" type="checkbox" name="active" id="active" value="1" {{ 'checked' if u.active else '' }}>
      <label class="form-check-label" for="active">Activo</label>
    </div>

    <div class="d-flex justify-content-between">
      <a href="{{ url_for('users') }}" class="btn btn-secondary">Cancelar</a>
      <button class="btn btn-success">Guardar</button>
    </div>
  </form>
</div>
{% endblock %}
